

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Flux and radiance review &#8212; ATSC 301</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/week11/flux_from_radiance_rev';</script>
    <link rel="canonical" href="https://hub.eoastest.xyz/a301/notebooks/week11/flux_from_radiance_rev.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="The Schwartzchild equation for flux" href="flux_schwartzchild.html" />
    <link rel="prev" title="Cloudsat heating rate" href="cloudsat_flxhr.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title">ATSC 301</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    ATSC 301: Term 2 2022
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 1</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week1/week1_topics.html">Week 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week1/a301_syllabus.html">ATSC 301: syllabus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week1/e582_syllabus.html">ATSC 301: syllabus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week1/integrity.html">UBC academic integrity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week1/texts.html">Texts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week1/satellite.html">Acquiring satellite data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week1/modis_level1b_read.html">Reading modis level1b data</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 2</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week2/week2_topics.html">Week 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week2/beers_law.html">Beers and inverse squared laws</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week2/sensors.html">Solid angle and radiance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week2/flux_from_radiance.html">Finding the flux given the radiance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week2/planck_function.html">Integrating the Planck function with python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week2/debugging_intro.html">how to debug</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week2/derivs_and_ints.html">working with numpy arrays</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 3</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week3/week3_topics.html">Week 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week3/files_and_paths.html">Course folders on a301hub and your laptop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week3/modis_geom_read.html">Reading modis level1b data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week3/radiance_values.html">Sanity checking radiance vaules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week3/mapping.html">Geographic coordinate systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week3/cartopy_maps.html">Introduction to Cartopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week3/cartopy_mapping_vancouver.html">Mapping Vancouver with cartopy</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 4</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week4/week4_topics.html">Week 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week4/using_libraries.html">Working with libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week4/schwartz.html">The Schwartzchild Equation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 5</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week5/week5_topics.html">Week 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week5/cartopy_resample_ch30.html">Use pyresample and cartopy to plot channel 30 radiances</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week5/wv_resample.html">Resampling the water vapor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week5/longwave_resample.html">Resampling channel 31</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week5/hydrostat.html">Hydrostatic balance</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 6</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week6/week6_topics.html">Week 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week6/pandas_intro.html">Introduction to Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week6/pandas-cheatsheet.html">Pandas Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week6/hydrostatic_balance.html">Scale heights for typical atmospheric soundings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week6/weighting_functions.html">Weighting functions for temperature retrieval</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week6/writing_geotiffs.html">Writing the 5km water vapor image to a geotiff file</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 7</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week7/week7_topics.html">Week 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week7/writing_geotiffs_with_rioxarray.html">Using xarray to work with geotiffs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week7/get_landsat_bands.html">Dowloading Landsat and Sentinel data from NASA</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 8</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week8/week8_topics.html">Week 8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week8/fetch_stac_metadata.html">Getting multiple scenes using stac</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week8/zoom_landsat.html">Clipping and saving landsat scenes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week8/windowed_read.html">Reading landsat data with a rasterio window</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week8/test_landsat_read.html">simple test of <code class="docutils literal notranslate"><span class="pre">get_landsat_scene</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../week8/pandas_week8_worksheet.html">Week8 worksheet – using pandas</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 9</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week9/week9_topics.html">Week 9</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week9/xarray_datasets.html">xarray datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week9/radar.html">Notes on the radar equation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week9/marshall_palmer.html">Notes on the Marshall-Palmer distribution and the Z-RR relation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week9/readcloudsat.html">Reading cloudsat data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week9/test_landsat_dataset.html">Adding data to an image with xarray datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week9/cloudsat_ecmwf.html">Working with cloudsat data</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 10</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week10/week10_topics.html">Week 10</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week10/temperature_perturb.html">Cloudsat: Plotting ECMWF temperature and wind speed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week10/write_geotiffs.html">Landsat: Writing the scenes for each season to netcdf files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week10/rainrate.html">Cloudsat: liquid and ice precipitation and rain rate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week10/false_color.html">Making color composite (“false color”) images</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 11</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="week11_topics.html">Week 11</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloudsat_flxhr.html">Cloudsat heating rate</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Flux and radiance review</a></li>
<li class="toctree-l1"><a class="reference internal" href="flux_schwartzchild.html">The Schwartzchild equation for flux</a></li>
<li class="toctree-l1"><a class="reference internal" href="diffuse_flux.html">Calculating the diffuse flux</a></li>
<li class="toctree-l1"><a class="reference internal" href="heating_rate.html">Finding the heating rate of the atmosphere</a></li>
<li class="toctree-l1"><a class="reference internal" href="false_examples.html">Landsat 8 false color examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="goes_true_color.html">GOES-16: True Color Images from GOES ABI</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 12</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week12/week12_topics.html">Week 12</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week12/goes_michael.html">GIS image processing review</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week12/final_guide.html">Study guide for final exam –</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Assignments</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../assignments/assign1_handin_solution.html">Assignment 1 solution– brightness temperatures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assignments/assign2a_solution.html">Assignment 2a - solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assignments/assign2b_solution.html">Assignment 2b solutions: Drawing your satellite swath</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assignments/assignment3a_solution.html">Assignment 3a – Solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assignments/assignment3b_solution.html">Assignment 3b – Solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assignments/assignment4_solution.html">Assignment 4 – solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assignments/assign5_handin.html">Assignment 5 Handin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assignments/assignment5_solution.html">Assignment 5 Landsat + Marshall Palmer: Solution</a></li>

<li class="toctree-l1"><a class="reference internal" href="../assignments/assign6_handin.html">Assignment 6: Hurricane case study, Due Thursday, April 13 11:59pm</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Midterm</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../midterm/a301_mid_2022t2_solutions.html">A301 midterm – solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../midterm/mid_term_reviewI.html">Sample mid-term questions I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../midterm/mid_term_reviewII.html">Midterm review questions II</a></li>
<li class="toctree-l1"><a class="reference internal" href="../midterm/mid_term_reviewI_solutions.html">Solutions: sample questions I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../midterm/mid_term_reviewII_solutions.html">Solutions: sample questions II</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">References</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../assignments.html">Assignments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks.html">List of notebooks</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/notebooks/week11/flux_from_radiance_rev.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Flux and radiance review</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#definitions">Definitions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#relationship-between-flux-and-radiance">Relationship between flux and radiance</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exact-equation-always-correct">Exact equation – always correct</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#narrow-beam-approximation-flux-at-a-satellite">Narrow beam approximation – flux at a satellite</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#narrow-beam-approximation-flux-from-the-sun">Narrow beam approximation – flux from the sun</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#narrow-beam-approximation-sun-at-zenith-angle-theta-0">Narrow beam approximation – sun at zenith angle <span class="math notranslate nohighlight">\(\theta_{0}\)</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#isotropic-approximation-l-the-same-at-all-angles">Isotropic approximation – L the same at all angles</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#l-varying-over-a-range-of-angles">L varying over a range of angles</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="flux-and-radiance-review">
<span id="week2-flux-from-radianceii"></span><h1>Flux and radiance review<a class="headerlink" href="#flux-and-radiance-review" title="Permalink to this heading">#</a></h1>
<ul>
<li><p>Question:  “I’m confused about the difference between emission/radiance/flux. The incoming flux = irradiance = E. Radiance = L = independent of distance = luminosity. What’s the outgoing flux then? Is the emission the outgoing flux? In Q4 of Beer’s Law in MT Questions Part 1, it asks us to calculate emission (among other things). Are we calculating the outgoing flux (aka irradiance)? Or the outgoing radiance?</p></li>
<li><p>The pertinent review question is <a class="reference internal" href="../midterm/mid_term_reviewI.html#mid-review1"><span class="std std-ref">Sample mid-term questions I</span></a> Q4:</p></li>
<li><p>“Find the narrow beam transmission, absorption and emission for a series of
stacked layers of equal transmissivities and temperatures in a direction perpendicular
to the layers”</p>
<p>By restricting the situation to the “narrow beam approximation” reviewed below
we get to use the fact that <span class="math notranslate nohighlight">\(E = L \Delta \omega\)</span>, so that the relationship between
flux and radiance in as simple as possible.  After the midterm we’ll talk about
how to handle the more general situation where photons are coming from all
directions.  This requires a new idea called the “diffuse transmissivity” that
we haven’t had yet (and that’s a bit of a detour from remote sensing, where the
“narrow beam approximation” almost always works.</p>
</li>
<li><p>Big question: climate models need fluxes to calculate how the atmosphere is heating and cooling.  Satellites measure radiances, not fluxes.  How do we get from flux to radiance for a real atmosphere?</p></li>
</ul>
<section id="definitions">
<h2>Definitions<a class="headerlink" href="#definitions" title="Permalink to this heading">#</a></h2>
<ul>
<li><p>First some definitions – see <a class="reference external" href="https://en.wikipedia.org/wiki/Radiometry">Wikipedia</a>
for the (really complicated) full story.</p>
<ol class="loweralpha">
<li><p><strong>Spectral (monochromatic) radiative flux density (or monochromatic irradiance). Symbol</strong> <span class="math notranslate nohighlight">\(E_\lambda\)</span>: the energy of photons of a given wavelength crossing a plane surface from all directions.  We need to know this when we try to figure out whether a horizontal layer of the atmosphere is being heated or cooled by radiation.  The direction of the flux is defined as being perpendicular to the plane that it is crossing.  Monochromatic (single wavelength) Units: <span class="math notranslate nohighlight">\(W\,m^{-2}\,\mu m^{-1}\)</span></p></li>
<li><p><strong>Spectral (monochromatic) radiance (also sometimes called intensity). Symbol</strong> <span class="math notranslate nohighlight">\(L_\lambda\)</span>: the energy of photons of wavelength <span class="math notranslate nohighlight">\(\lambda\)</span> traveling within a solid angle (cone) field of view and crossing a surface. This is much more common than flux in remote sensing measurements, because every instrument has some limited field of view. The radiance direction is defined by the direction of the “spine” of the cone field of view.  Monochromatic units: <span class="math notranslate nohighlight">\(W\,m^{-2}\,\mu m^{-1}\,sr^{-1}\)</span></p></li>
<li><p><strong>Slant path. Symbol s.</strong>  The distance traveled along the cone field of view.
From the figure below:  <span class="math notranslate nohighlight">\(z = s/\cos \theta\)</span>. Units: m.</p>
<a class="reference internal image-reference" href="../../_images/ppt_slant_path.png"><img alt="../../_images/ppt_slant_path.png" src="../../_images/ppt_slant_path.png" style="width: 40.0%;" /></a>
</li>
<li><p><strong>Solid angle. Symbol</strong> <span class="math notranslate nohighlight">\(\omega\)</span>.  Definition from the <a class="reference internal" href="../week2/sensors.html#radiance"><span class="std std-ref">Solid angle and radiance</span></a> notes.</p>
<div class="math notranslate nohighlight" id="equation-domega">
<span class="eqno">(36)<a class="headerlink" href="#equation-domega" title="Permalink to this equation">#</a></span>\[d\omega = \frac{dA}{r^2} =\frac{ width \times height}{r^2} =  \sin \theta \times  d\phi \times d\theta =  \sin \theta d\theta d \phi\]</div>
</li>
</ol>
</li>
</ul>
</section>
<section id="relationship-between-flux-and-radiance">
<h2>Relationship between flux and radiance<a class="headerlink" href="#relationship-between-flux-and-radiance" title="Permalink to this heading">#</a></h2>
<section id="exact-equation-always-correct">
<h3>Exact equation – always correct<a class="headerlink" href="#exact-equation-always-correct" title="Permalink to this heading">#</a></h3>
<p>To get the flux <span class="math notranslate nohighlight">\(E\)</span> from the radiance <span class="math notranslate nohighlight">\(L\)</span> in any situation, it always works to integrate <a class="reference internal" href="../week2/flux_from_radiance.html#equation-fluxrel">(6)</a> from the <a class="reference internal" href="../week2/flux_from_radiance.html#week2-flux-from-radiance"><span class="std std-ref">Finding the flux given the radiance</span></a> notes:</p>
<div class="math notranslate nohighlight" id="equation-flux-revb">
<span class="eqno">(37)<a class="headerlink" href="#equation-flux-revb" title="Permalink to this equation">#</a></span>\[  E =  \int_0^{2\pi}\int_0^{\pi/2} L \cos \theta  \sin \theta \, d\theta \, d \phi =
     \int_0^{2\pi}\int_0^{1}\, \mu \,L\,  d \mu d\phi =        \int_0^{2\pi}\int_0^{1} \mu L  d \omega\]</div>
<p>where we’ve used the change of variable <span class="math notranslate nohighlight">\(\mu = \cos \theta\)</span> with <span class="math notranslate nohighlight">\(d\mu = -\sin \theta d\theta\)</span> as discussed in class so we can forget about trig integrals.</p>
<p>We’ve covered two important approximations that make this integration trivial – narrow beam
radiation and isotropic radiation.  They are summarized below.</p>
</section>
<section id="narrow-beam-approximation-flux-at-a-satellite">
<h3>Narrow beam approximation – flux at a satellite<a class="headerlink" href="#narrow-beam-approximation-flux-at-a-satellite" title="Permalink to this heading">#</a></h3>
<p>For remote sensing, we can use a simple approximation to do this integral, because the satellite telescope restricts the solid angle we’re sampling to a very thin cone pointed straight away from
the sensor.  The fact that the telescope is perpendicular to the camera means that the zenith angle
within the cone, <span class="math notranslate nohighlight">\(\theta \approx 0\)</span> almost exactly,
so when we integrate over the cone we can take
<span class="math notranslate nohighlight">\(cos\,\theta = \mu = 1\)</span>.  It also means that <span class="math notranslate nohighlight">\(L\)</span> is very nearly
constant within the cone, so we can move it out of the integral and get:</p>
<div class="math notranslate nohighlight" id="equation-flux-revc">
<span class="eqno">(38)<a class="headerlink" href="#equation-flux-revc" title="Permalink to this equation">#</a></span>\[  E_{satellite} =  \int_0^{2\pi}\int_0^{\pi/2} L \cos \theta  \sin \theta \, d\theta \, d \phi =
     L \int_{\Delta \omega}   d \omega = L \Delta \omega\]</div>
</section>
<section id="narrow-beam-approximation-flux-from-the-sun">
<h3>Narrow beam approximation – flux from the sun<a class="headerlink" href="#narrow-beam-approximation-flux-from-the-sun" title="Permalink to this heading">#</a></h3>
<p>The other case where we can use the narrow beam approximation is for direct sunlight, because
at Earth’s orbit the sun subtends a solid angle of only about <span class="math notranslate nohighlight">\(1 \times 10^{-4}\)</span> sr.  That means
we have the same situation as with the telescope, and we can write <a class="reference internal" href="#equation-flux-revc">(38)</a> as:</p>
<div class="math notranslate nohighlight" id="equation-elambda2">
<span class="eqno">(39)<a class="headerlink" href="#equation-elambda2" title="Permalink to this equation">#</a></span>\[ E_{sun} = L_{sun} \Delta \omega\]</div>
<p>Again, this works because <strong>100% of the the flux falls into the narrow field of view</strong> <span class="math notranslate nohighlight">\(\Delta \omega\)</span>, so that <span class="math notranslate nohighlight">\(L\)</span> is zero at all other solid angles outside of <span class="math notranslate nohighlight">\(\Delta \omega\)</span></p>
<p><strong>Some numbers</strong>: Specifically, we know that the sun has a radius of about <span class="math notranslate nohighlight">\(7 \times 10^ 8\ m\)</span>, and is about
<span class="math notranslate nohighlight">\(150 \times 10^9\ m\)</span> away from the earth.  This means that, to an excellent approximation,</p>
<div class="math notranslate nohighlight">
\[\Delta \omega_{sun} = \frac{A}{r^2} = \frac{\pi (7 \times 10^8)^2}{(150 \times 10^9)^2} = 7 \times 10^{-5}\ sr\]</div>
<p>We also know that the sun has a surface temperature of 5780 K and is radiating like a blackbody, so:</p>
<div class="math notranslate nohighlight">
\[L_{sun} = \frac{\sigma}{\pi} 5780^4 \approx 20 \times 10^6\ W\,m^{-2}\,sr^{-1}\]</div>
<p>Put those together and we get:</p>
<div class="math notranslate nohighlight">
\[E_{sun} = L_{sun} \Delta \omega_{sun} \approx 1400\ W\,m^{-2}\]</div>
<p>This is the situation Stull is illustrating in Figure 2.2 – sunlight at noon:</p>
<a class="reference internal image-reference" href="../../_images/stull_fig2_2_direct.png"><img alt="../../_images/stull_fig2_2_direct.png" src="../../_images/stull_fig2_2_direct.png" style="width: 40.0%;" /></a>
</section>
<section id="narrow-beam-approximation-sun-at-zenith-angle-theta-0">
<h3>Narrow beam approximation – sun at zenith angle <span class="math notranslate nohighlight">\(\theta_{0}\)</span><a class="headerlink" href="#narrow-beam-approximation-sun-at-zenith-angle-theta-0" title="Permalink to this heading">#</a></h3>
<p>If it isn’t noon, the sun isn’t directly overhead and the solar zenith angle <span class="math notranslate nohighlight">\(\theta_0 \ne 0\)</span>, so we’ve got the
situation discussed in the <a class="reference internal" href="../week2/flux_from_radiance.html#week2-flux-from-radiance"><span class="std std-ref">Finding the flux given the radiance</span></a> notes <a class="reference internal" href="../week2/flux_from_radiance.html#equation-cosflux">(5)</a>:</p>
<div class="math notranslate nohighlight" id="equation-cosflux2">
<span class="eqno">(40)<a class="headerlink" href="#equation-cosflux2" title="Permalink to this equation">#</a></span>\[  E = \cos \theta_0  L  \Delta \omega\]</div>
<p>Note that the zenith angle of the sun <span class="math notranslate nohighlight">\(\theta_0\)</span> is different from the cone <span class="math notranslate nohighlight">\(\theta\)</span> that is being
integrated over in <a class="reference internal" href="#equation-flux-revc">(38)</a> – that <span class="math notranslate nohighlight">\(\theta\)</span> is the angle within the cone of <span class="math notranslate nohighlight">\(\Delta \omega\)</span>.  It is defined as <span class="math notranslate nohighlight">\(\theta=0\)</span> along the spine of the cone, and it varies to either side by only a few hundredths of a degree if the cone is narrow. The figure below shows the difference between the solar zenith angle <span class="math notranslate nohighlight">\(\theta_0\)</span> and the cone integration variable <span class="math notranslate nohighlight">\(\theta\)</span> for mid-afternoon sun.</p>
<a class="reference internal image-reference" href="../../_images/solar_zenith.png"><img alt="../../_images/solar_zenith.png" src="../../_images/solar_zenith.png" style="width: 40.0%;" /></a>
</section>
<section id="isotropic-approximation-l-the-same-at-all-angles">
<h3>Isotropic approximation – L the same at all angles<a class="headerlink" href="#isotropic-approximation-l-the-same-at-all-angles" title="Permalink to this heading">#</a></h3>
<p>The other important case is when <span class="math notranslate nohighlight">\(L\)</span> is the same at all angles – this is called
isotropic (i.e. direction independent) diffuse radiation.  In that case <span class="math notranslate nohighlight">\(L\)</span> can come
out <a class="reference internal" href="#equation-flux-revb">(37)</a> but <span class="math notranslate nohighlight">\(\theta\)</span> has to stay in:</p>
<div class="math notranslate nohighlight" id="equation-flux-rev-iso">
<span class="eqno">(41)<a class="headerlink" href="#equation-flux-rev-iso" title="Permalink to this equation">#</a></span>\[ E = 2 \pi L \int_0^{\pi/2}  \cos \theta  \sin \theta\, d\theta =
2 \pi \int_0^{1} \mu \, d\mu = 2 \pi L \, \left . \frac{\mu^2}{2} \right |_0^1 = \pi L\]</div>
<p>which is true for a thermal emitter with a infinite horizontal extent (so that we can integrate
all the way down to the horizon).</p>
</section>
<section id="l-varying-over-a-range-of-angles">
<h3>L varying over a range of angles<a class="headerlink" href="#l-varying-over-a-range-of-angles" title="Permalink to this heading">#</a></h3>
<p>The atmosphere introduces an absorbing emitting layers that changes the value of L
with changing zenith angle.  How do we solve  to solve <a class="reference internal" href="#equation-flux-revb">(37)</a> when
<span class="math notranslate nohighlight">\(L\)</span> an’t come out of the integral?  There is a simple approximation
for that situation as well, discussed in <a class="reference internal" href="flux_schwartzchild.html#week11-flux-schwartzchild"><span class="std std-ref">The Schwartzchild equation for flux</span></a></p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks/week11"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="cloudsat_flxhr.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Cloudsat heating rate</p>
      </div>
    </a>
    <a class="right-next"
       href="flux_schwartzchild.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">The Schwartzchild equation for flux</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#definitions">Definitions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#relationship-between-flux-and-radiance">Relationship between flux and radiance</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exact-equation-always-correct">Exact equation – always correct</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#narrow-beam-approximation-flux-at-a-satellite">Narrow beam approximation – flux at a satellite</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#narrow-beam-approximation-flux-from-the-sun">Narrow beam approximation – flux from the sun</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#narrow-beam-approximation-sun-at-zenith-angle-theta-0">Narrow beam approximation – sun at zenith angle <span class="math notranslate nohighlight">\(\theta_{0}\)</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#isotropic-approximation-l-the-same-at-all-angles">Isotropic approximation – L the same at all angles</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#l-varying-over-a-range-of-angles">L varying over a range of angles</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Philip Austin
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>